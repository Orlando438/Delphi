unit Unit1;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, rest.JSON, Vcl.StdCtrls, IdIOHandler, IdIOHandlerSocket, IdIOHandlerStack,
  IdSSL, IdSSLOpenSSL, IdBaseComponent, IdComponent, IdTCPConnection, IdTCPClient, IdHTTP;

type

Tvariants = class
  private
   Fstock: integer;
   Fprice: string;
   Fgender: string;
   Fbarcode: integer;
   Fweight: string;
   Fwidth: string;
   Fheight: string;
   Fdepth: string;
 public
   property stock: integer read Fstock write Fstock;
   property price: string read Fprice write Fprice;
   property gender: string read Fgender write Fgender;
   property barcode: integer read Fbarcode write Fbarcode;
   property weight: string read Fweight write Fweight;
   property width: string read Fwidth write Fwidth;
   property height: string read Fheight write Fheight;
   property depth: string read Fdepth write Fdepth;
 end;

Tproduto = class
 private
   Fvariants: Tarray<Tvariants>;
 public
   property variants: Tarray<Tvariants> read Fvariants write Fvariants;
 end;

  TForm1 = class(TForm)
    Button1: TButton;
    Memo1: TMemo;
    IdHTTP: TIdHTTP;
    IdSSLIOHandlerSocketOpenSSL: TIdSSLIOHandlerSocketOpenSSL;
    procedure Button1Click(Sender: TObject);
  private
    { Private declarations }
  public
    procedure pesquisar;
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

procedure TForm1.Button1Click(Sender: TObject);
begin
  pesquisar;
end;

procedure Tform1.pesquisar;
var
  AURL: String;
  AJsonReturn: TstringStream;
  AListaProduto: Tproduto;
  ARetorno: String;
begin

end;

end.
